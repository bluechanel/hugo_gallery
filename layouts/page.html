{{ define "main" }}
<div class="max-w-6xl mx-auto px-4 flex gap-8">
  <article class="flex-1 bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden">
    <div class="relative h-64 sm:h-96 w-full">
      {{ with .Params.cover.image }}
      {{ $img := resources.Get . }}
        <img src="{{ $img.RelPermalink }}" alt="文章封面" class="h-full w-full object-cover" />
      {{ end }}
    </div>
    <div class="p-8">
      <header class="mb-8">
        <div class="flex flex-wrap gap-2 mb-4">
          {{ with .Params.tags }}
            {{ range . }}
              <div class="px-2 py-1 rounded-full text-sm hover:opacity-80 transition-opacity bg-blue-100 text-blue-800">
                {{ . }}
              </div>
            {{ end }}
          {{ end }}
        </div>
        <h1 class="text-3xl sm:text-4xl font-bold mb-4 text-gray-900 dark:text-white">
          {{ .Title }}
        </h1>
        <div class='flex flex-row '>
          <div class="flex flex-row text-sm text-gray-500 dark:text-gray-400">
            <div class="mr-1 w-4 h-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-days-icon lucide-calendar-days">
                <path d="M8 2v4"/>
                <path d="M16 2v4"/>
                <rect width="18" height="18" x="3" y="4" rx="2"/>
                <path d="M3 10h18"/>
                <path d="M8 14h.01"/>
                <path d="M12 14h.01"/>
                <path d="M16 14h.01"/>
                <path d="M8 18h.01"/>
                <path d="M12 18h.01"/>
                <path d="M16 18h.01"/>
              </svg>
            </div>
            {{ .Date.Format "2006-01-02" }}
          </div>
          {{ with .Params.updateDate }}
          <div class="h-4 w-0.5 bg-gray-300 dark:bg-gray-600 mx-4"></div>
          <div class="flex flex-row text-sm text-gray-500 dark:text-gray-400">
            <div class='mr-1 w-4 h-4'>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock-icon lucide-clock">
                <path d="M12 6v6l4 2"/>
                <circle cx="12" cy="12" r="10"/>
              </svg>
            </div>
            {{ . | time.Format "2006-01-02" }}
          </div>
          {{ end }}
          <div class="h-4 w-0.5 bg-gray-300 dark:bg-gray-600 mx-4"></div>
          <div class="flex flex-row text-sm text-gray-500 dark:text-gray-400">
            <div class="mr-1 w-4 h-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass-icon lucide-hourglass">
                <path d="M5 22h14"/>
                <path d="M5 2h14"/>
                <path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/>
                <path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/>
              </svg>
            </div>
            {{ .ReadingTime }} min
          </div>
        </div>
      </header>
      <div class="prose prose-base prose-gray dark:prose-invert max-w-none p-6">
        {{ .Content }}
      </div>
    </div>
    <!-- {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }} -->
  </article>
  <aside class="hidden lg:block w-64 flex-shrink-0 ">
    <div class="sticky top-24">
      <nav class="prose dark:prose-invert text-sm sticky top-24 max-h-[calc(100vh-8rem)] overflow-auto">
        <h2 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">目录</h2>
        {{ .TableOfContents }}
      </nav>
    </div>
  </aside>
</div>
{{ end }}
